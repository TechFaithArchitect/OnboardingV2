<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>EnforceMemberTypeFieldUsage</fullName>
    <active>true</active>
    <description>This field makes sure the user selects the right Member Type with the right user or role assignment.</description>
    <errorConditionFormula>OR(
  AND(
    ISPICKVAL(Member_Type__c, &quot;User&quot;),
    ISBLANK(Recipient_User__c)
  ),
  AND(
    ISPICKVAL(Member_Type__c, &quot;Territory Role Assignment&quot;),
    ISBLANK(Role_Assignment__c)
  ),
  AND(
    ISPICKVAL(Member_Type__c, &quot;User&quot;) = FALSE,
    NOT(ISBLANK(Recipient_User__c))
  ),
  AND(
    ISPICKVAL(Member_Type__c, &quot;Territory Role Assignment&quot;) = FALSE,
    NOT(ISBLANK(Role_Assignment__c))
  )
)</errorConditionFormula>
    <errorDisplayField>Member_Type__c</errorDisplayField>
    <errorMessage>Only the correct field should be populated based on the selected Member Type</errorMessage>
</ValidationRule>
