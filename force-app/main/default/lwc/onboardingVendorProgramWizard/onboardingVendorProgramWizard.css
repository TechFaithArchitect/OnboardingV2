/* Dynamic modal sizing based on column count - follows SLDS patterns */
.vendor-program-modal-container {
    /* Base sizing - SLDS minimum */
    min-width: 480px;
    transition: width 0.3s ease, max-width 0.3s ease;
}

/* Small modal: â‰¤600px content width */
.vendor-program-modal-container.modal-size-small {
    max-width: 50%;
    width: 50%;
}

/* Medium modal: 601-900px content width (SLDS standard) */
.vendor-program-modal-container.slds-modal_medium {
    max-width: 70%;
    width: 70%;
}

/* Large modal: 901-1400px content width (SLDS standard) */
.vendor-program-modal-container.slds-modal_large {
    max-width: 90%;
    width: 90%;
}

/* Full modal: 1401px+ content width or very wide tables */
.vendor-program-modal-container.modal-size-full {
    max-width: 98%;
    width: 98%;
    min-width: 1400px;
}

/* Tree grid container - fills available space */
.tree-grid-container {
    width: 100%;
    overflow-x: hidden; /* Hide horizontal scroll when modal is wide enough */
    overflow-y: auto; /* Allow vertical scroll if needed */
    -webkit-overflow-scrolling: touch;
    position: relative;
    max-height: 70vh; /* Limit vertical height */
}

/* Ensure tree grid fills container width and columns expand to fill space */
.tree-grid-container lightning-tree-grid {
    width: 100%;
    display: block;
}

/* Force tree grid table to fill 100% width */
.tree-grid-container lightning-tree-grid::part(table) {
    width: 100%;
    table-layout: auto; /* Allow columns to expand proportionally */
}

/* Ensure all columns are visible and fill available space */
.tree-grid-container lightning-tree-grid th,
.tree-grid-container lightning-tree-grid td {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Only show horizontal scroll if content truly exceeds container */
.tree-grid-container.force-horizontal-scroll {
    overflow-x: auto;
}

.tree-grid-container.force-horizontal-scroll lightning-tree-grid {
    width: max-content;
    min-width: 100%;
}

/* Tree grid wrapper to handle scrolling and spacing */
.tree-grid-wrapper {
    position: relative;
    width: 100%;
    margin-top: 0.5rem;
}

/* Responsive adjustments for smaller screens - follows SLDS breakpoints */
@media (max-width: 1024px) {
    .vendor-program-modal-container.modal-size-full,
    .vendor-program-modal-container.slds-modal_large {
        max-width: 98%;
        width: 98%;
    }
    
    /* On smaller screens, allow horizontal scroll if needed */
    .tree-grid-container {
        overflow-x: auto;
    }
    
    .tree-grid-container lightning-tree-grid {
        width: max-content;
        min-width: 100%;
    }
}

@media (max-width: 768px) {
    .vendor-program-modal-container {
        max-width: 100%;
        width: 100%;
        min-width: 100% !important; /* Override inline styles on mobile */
    }
    
    .tree-grid-container {
        max-height: 60vh;
        overflow-x: auto; /* Always allow horizontal scroll on mobile */
    }
    
    .tree-grid-container lightning-tree-grid {
        width: max-content;
        min-width: 100%;
    }
}

/* Ensure modal content area handles overflow properly */
.slds-modal__content {
    overflow: visible;
    max-height: none; /* Allow content to determine height */
}

/* Add visual indicator for horizontal scroll when needed */
.tree-grid-container::-webkit-scrollbar {
    height: 8px;
}

.tree-grid-container::-webkit-scrollbar-track {
    background: var(--slds-g-color-neutral-base-95, #f3f3f3);
    border-radius: 4px;
}

.tree-grid-container::-webkit-scrollbar-thumb {
    background: var(--slds-g-color-neutral-base-50, #706e6b);
    border-radius: 4px;
}

.tree-grid-container::-webkit-scrollbar-thumb:hover {
    background: var(--slds-g-color-neutral-base-40, #514f4d);
}

