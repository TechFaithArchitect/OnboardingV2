<template>
  <lightning-card title={cardTitle}>
    <div class="slds-p-around_medium">
      <div class="slds-box slds-box_x-small slds-theme_info slds-m-bottom_small" style="padding: 0.5rem;">
        <div class="slds-media">
          <div class="slds-media__figure">
            <lightning-icon icon-name="utility:info" size="xx-small" alternative-text="Info"></lightning-icon>
          </div>
          <div class="slds-media__body">
            <p class="slds-text-body_small slds-m-bottom_none">
              <strong>Vendor:</strong> A business partner or supplier. Each vendor can have multiple programs. 
              <strong>Best Practice:</strong> Use official business name exactly (e.g., "Acme Corporation").
            </p>
          </div>
        </div>
      </div>

      <lightning-input
        label="Search Vendor"
        value={searchText}
        onchange={handleSearchChange}
        placeholder="Type to search vendors (min 2 characters)..."
        class="slds-m-bottom_small">
      </lightning-input>

      <template if:true={vendorOptions.length}>
        <lightning-combobox
          label="Select Vendor"
          value={selectedVendorId}
          options={vendorOptions}
          onchange={handleVendorSelect}
          placeholder="Select a vendor from the list"
          class="slds-m-bottom_small">
        </lightning-combobox>
      </template>

      <template if:true={isLoading}>
        <lightning-spinner size="small" alternative-text="Searching..." class="slds-m-top_x-small"></lightning-spinner>
      </template>

      <template if:false={isLoading}>
        <template if:true={hasSearchResults}>
          <p class="slds-text-body_small slds-text-color_weak slds-m-top_x-small">
            {vendorCountText}
          </p>
        </template>
        <template if:true={hasNoResults}>
          <p class="slds-text-body_small slds-text-color_weak slds-m-top_x-small">
            No vendors found. You can create a new vendor below.
          </p>
        </template>
      </template>

    <p class="slds-m-top_medium">Or create a new vendor:</p>
    <lightning-input label="New Vendor Name" value={newVendorName} onchange={handleNewVendorChange}></lightning-input>
    <lightning-button label="Create Vendor" onclick={createVendor} class="slds-m-top_small"></lightning-button>

      <!-- Navigation buttons removed - handled by flow engine footer -->
    </div>
  </lightning-card>
</template>
