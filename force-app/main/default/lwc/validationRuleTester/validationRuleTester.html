<template>
    <lightning-card>
        <div class="slds-p-horizontal_small slds-p-vertical_small">
            <lightning-layout multiple-rows>
                <lightning-layout-item size="6">
                    <lightning-combobox
                        label="Requirement Field"
                        value={selectedField}
                        options={fieldOptions}
                        onchange={handleFieldChange}
                        placeholder="Select field">
                    </lightning-combobox>
                </lightning-layout-item>
                <lightning-layout-item size="6">
                    <lightning-input
                        label="Test Value"
                        value={testValue}
                        onchange={handleValueChange}>
                    </lightning-input>
                </lightning-layout-item>
                <lightning-layout-item size="12" class="slds-m-top_small">
                    <lightning-button variant="brand" label="Run Test" onclick={handleTest} disabled={isTesting}></lightning-button>
                </lightning-layout-item>
            </lightning-layout>

            <template if:true={result}>
                <div class="slds-m-top_small slds-box">
                    <div class="slds-text-heading_small">Result: {result.status}</div>
                    <div class="slds-m-top_x-small">{result.message}</div>
                </div>
            </template>
        </div>
        <template if:true={isTesting}>
            <lightning-spinner alternative-text="Testing" size="small"></lightning-spinner>
        </template>
    </lightning-card>
</template>
