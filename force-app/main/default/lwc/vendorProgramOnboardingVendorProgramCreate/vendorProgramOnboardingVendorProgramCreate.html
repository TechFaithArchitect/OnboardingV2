<template>
  <lightning-card title={cardTitle}>
    <div class="slds-p-around_medium">
      <div class="slds-box slds-box_x-small slds-theme_info slds-m-bottom_small" style="padding: 0.5rem;">
        <div class="slds-media">
          <div class="slds-media__figure">
            <lightning-icon icon-name="utility:info" size="xx-small" alternative-text="Info"></lightning-icon>
          </div>
          <div class="slds-media__body">
            <p class="slds-text-body_small slds-m-bottom_none">
              <strong>Finalize:</strong> Complete the vendor program details by providing the Label, Retail Option, and Business Vertical.
            </p>
          </div>
        </div>
      </div>

      <template if:true={isLoading}>
        <lightning-spinner size="small"></lightning-spinner>
      </template>

      <template if:false={isLoading}>
        <div class="slds-grid slds-gutters slds-m-bottom_medium">
          <div class="slds-col slds-size_1-of-1">
            <lightning-input
              label="Label"
              value={label}
              onchange={handleLabelChange}
              required>
            </lightning-input>
          </div>
        </div>

        <div class="slds-grid slds-gutters slds-m-bottom_medium">
          <div class="slds-col slds-size_1-of-2">
            <lightning-combobox
              label="Retail Option"
              value={retailOption}
              options={retailOptionOptions}
              onchange={handleRetailOptionChange}
              placeholder="--None--">
            </lightning-combobox>
          </div>
          <div class="slds-col slds-size_1-of-2">
            <lightning-combobox
              label="Business Vertical"
              value={businessVertical}
              options={businessVerticalOptions}
              onchange={handleBusinessVerticalChange}
              placeholder="--None--">
            </lightning-combobox>
          </div>
        </div>

        <div class="slds-m-top_medium">
          <lightning-button
            variant="brand"
            label="Save"
            onclick={finalizeProgram}
            disabled={nextDisabled}>
          </lightning-button>
        </div>
        <!-- Navigation buttons removed - handled by flow engine footer -->
      </template>
    </div>
  </lightning-card>
</template>
